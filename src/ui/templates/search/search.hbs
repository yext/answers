{{!// TODO (creotutar) def not multilang safe}}
{{!// TODO (bmcginnis) probably needs better label / placeholder setup for WCAG }}
{{#if title}}
  <h1 class="yxt-SearchBar-title">{{title}}</h1>
{{/if}}
<div class="yxt-SearchBar">
  <div class="yxt-SearchBar-container">
    <form class="yxt-SearchBar-form">
      <label class="yxt-SearchBar-label" for="query">{{labelText}}</label>
      {{!// TODO (bmcginnis): migrate js class names}}
      <input class="js-yext-query yxt-SearchBar-input"
             type="text"
             name="query"
             value="{{query}}"
             {{#if _config.placeholderText}}placeholder="{{_config.placeholderText}}"{{/if}}>
      <button type="button"
              class="js-yxt-SearchBar-clear yxt-SearchBar-clear yxt-SearchBar--hidden"
              data-eventtype="SEARCH_CLEAR_BUTTON"
              data-eventoptions="{{eventOptions}}"
              data-component="IconComponent"
              data-opts='{ "iconName": "close" }'
              data-prop="icon"
      >
        <span class="yxt-SearchBar-clearButtonText sr-only">
          {{clearText}}
        </span>
      </button>
      <button type="submit" class="js-yext-submit yxt-SearchBar-button">
        {{#if submitIcon}}
          <div class="yxt-SearchBar-buttonImage"
              data-component="IconComponent"
              data-opts='{ "iconName": "{{submitIcon}}" }'
          ></div>
        {{else if _config.customIconUrl}}
          <div class="yxt-SearchBar-buttonImage"
              data-component="IconComponent"
              data-opts='{ "iconUrl": "{{_config.customIconUrl}}" }'
          ></div>
        {{else}}
          <div class="yxt-SearchBar-buttonImage js-yxt-SearchIcon"
            data-component="IconComponent"
            data-opts='{ "iconName": "yext" }'>
          </div>
          <div class="yxt-SearchBar-buttonImageAnimated js-yxt-AnimatedIcon--forward"
            data-component="IconComponent"
            data-opts="{{json forwardIconOpts}}">
          </div>
          <div class="yxt-SearchBar-buttonImageAnimated js-yxt-AnimatedIcon--reverse"
            data-component="IconComponent"
            data-opts="{{json reverseIconOpts}}">
          </div>
        {{/if}}
        <span class="yxt-SearchBar-buttonText sr-only">
          {{submitText}}
        </span>
      </button>
    </form>
    <div class="yxt-SearchBar-autocomplete yxt-AutoComplete-wrapper js-yxt-AutoComplete-wrapper"></div>
  </div>
</div>
