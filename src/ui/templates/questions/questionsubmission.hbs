
<section class="yxt-QuestionSubmission">

  <div class="yxt-QuestionSubmission-titleBar">
    <div class="yxt-QuestionSubmission-left">
      <div class="yxt-QuestionSubmission-titleIconWrapper"
          data-component="IconComponent"
          data-opts='{
              "iconName": "{{_config.sectionTitleIconName}}"
            }'
          data-prop="icon"
      ></div>
      <div class="yxt-QuestionSubmission-title">
        {{_config.sectionTitle}}
      </div>
    </div>
    <div class="yxt-QuestionSubmission-right">
      <div class="yxt-QuestionSubmission-titleDescription">
        {{_config.sectionDescription}}
      </div>
      <button class="{{#if questionExpanded}}yxt-QuestionSubmission--expanded{{else}}yxt-QuestionSubmission--collapsed{{/if}} js-content-visibility-toggle"
        data-component="IconComponent"
        data-opts='{ "iconName": "chevron" }'
        data-prop="icon"
      ></button>
    </div>
  </div>

  {{#if questionExpanded}}

    {{#if questionSubmitted}}
      <div class="yxt-QuestionSubmission-form">
        <div class="yxt-QuestionSubmission-formRow">
          {{_config.questionSubmissionConfirmationText}}
        </div>
      </div>
    {{else}}
      <form class="yxt-QuestionSubmission-form" novalidate>
        {{#if errors.network}}
          <div class="yxt-QuestionSubmission-formRow">
            <div class="yxt-QuestionSubmission-formError" role="alert">
              {{errors.network}}
            </div>
          </div>
        {{/if}}
        <div class="yxt-QuestionSubmission-formRow">
          {{_config.feedbackFormInfoText}}
        </div>

        <div class="yxt-QuestionSubmission-formRow">
          <div class="yxt-QuestionSubmission-formField">
            <label>
              <span class="yxt-QuestionSubmission-formLabel">
                {{_config.questionLabel}}
              </span>
              <textarea class="yxt-QuestionSubmission-formInput js-question-field js-question-text{{#if errors.questionTextRequired}} required-error{{/if}}"
                        name="questionText"
                        placeholder="{{_config.questionInputPlaceholder}}"
                        required>{{questionText}}</textarea>
            </label>
          </div>
        </div>

        <div class="yxt-QuestionSubmission-formRow">
          <div class="yxt-QuestionSubmission-formField">
            <label>
              <span class="yxt-QuestionSubmission-formLabel">
                {{_config.nameLabel}}
              </span>
              <input class="yxt-QuestionSubmission-formInput js-question-field{{#if errors.nameRequired}} required-error{{/if}}"
                name="name"
                type="text"
                placeholder="{{_config.requiredInputPlaceholder}}"
                value="{{name}}"
                required>
            </label>
          </div>

          <div class="yxt-QuestionSubmission-formField">
            <label>
              <span class="yxt-QuestionSubmission-formLabel">
                {{_config.emailLabel}}
              </span>
              <input class="yxt-QuestionSubmission-formInput js-question-field{{#if errors.emailRequired}} required-error{{/if}}"
                  name="email"
                  type="email"
                  placeholder="{{_config.requiredInputPlaceholder}}"
                  value="{{email}}"
                  required>
            </label>
            <div class='yxt-QuestionSubmission-inputError'>{{#if errors.email}}{{errors.email}}{{/if}}</div>
          </div>
        </div>

        <div class="yxt-QuestionSubmission-acknowledgementBar">
          <div class="yxt-QuestionSubmission-acknowledgement">
            <input type="checkbox"
                id="yxt-QuestionSubmission-ackCheckboxInput"
                name="privacyPolicy"
                class="yxt-QuestionSubmission-ackCheckboxInput js-question-field"
                value="true"
                required>
            <span>
              <label for="yxt-QuestionSubmission-ackCheckboxInput"
                  class="yxt-QuestionSubmission-privacyPolicyText">
                  {{_config.privacyPolicyLabel}}
              </label>
              <a class="yxt-QuestionSubmission-privacyPolicyUrl" href="{{_config.privacyPolicyUrl}}">{{_config.privacyPolicyUrlLabel}}</a>
              <div class='yxt-QuestionSubmission-inputError'>{{#if errors.privacyPolicy}}{{errors.privacyPolicy}}{{/if}}</div>
            </span>
          </div>
          <button class="yxt-QuestionSubmission-submitButton" type="submit" data-eventtype="QUESTION_SUBMIT">{{_config.buttonLabel}}</button>
        </div>
      </form>

    {{/if}}

  {{/if}}

</section>